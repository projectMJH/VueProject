{"ast":null,"code":"export default {\n  data() {\n    return {\n      food_list: [],\n      curpage: 1,\n      totalpage: 0,\n      startPage: 0,\n      endPage: 0\n    };\n  },\n  mounted() {\n    this.dataRecv();\n  },\n  methods: {\n    pageChange(page) {\n      this.curpage = page;\n      this.dataRecv();\n    },\n    prev() {\n      this.curpage = this.startPage - 1;\n      this.dataRecv();\n    },\n    next() {\n      this.curpage = this.endPage + 1;\n      this.dataRecv();\n    },\n    range(start, end) {\n      let arr = [];\n      let len = end - start;\n      for (let i = 0; i <= len; i++) {\n        arr[i] = start + i;\n      }\n      return arr;\n    },\n    async dataRecv() {\n      try {\n        const response = await fetch(`http://127.0.0.1:8000/web/food/list_vue/?page=${this.curpage}`);\n        const result = await response.json();\n        console.log(result);\n        this.food_list = result.fd;\n        this.curpage = result.curpage;\n        this.totalpage = result.totalpage;\n        this.startPage = result.startPage;\n        this.endPage = result.endPage;\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","food_list","curpage","totalpage","startPage","endPage","mounted","dataRecv","methods","pageChange","page","prev","next","range","start","end","arr","len","i","response","fetch","result","json","console","log","fd","err"],"sources":["C:\\vuejs\\vue_lastproject\\src\\views\\FoodView.vue"],"sourcesContent":["<template>\r\n<div class=\"wrapper row3\">\r\n  <main class=\"container clear\">\r\n    <!-- main body -->\r\n    <div class=\"content\">\r\n      <div id=\"gallery\">\r\n        <figure>\r\n          <header class=\"heading\">맛집 목록</header>\r\n          <ul class=\"nospace clear\">\r\n            <li v-for=\"f,idx,key in food_list\" :class=\"idx%4===0?'one_quarter first':'one_quarter'\" :key=\"key\">\r\n              <router-link :to=\"{name:'FoodDetailView',params:{fno:f.fno}}\">\r\n                <img :src=\"'https://www.menupan.com'+f.poster\" :title=\"f.name\">\r\n              </router-link>\r\n            </li>\r\n          </ul>\r\n          <figcaption>Gallery Description Goes Here</figcaption>\r\n        </figure>\r\n      </div>\r\n      <nav class=\"pagination\">\r\n        <ul>\r\n          <li v-if=\"startPage>1\"><a class=\"link\" @click=\"prev()\">&laquo; Previous</a></li>\r\n          <li v-for=\"i,key in range(startPage,endPage)\" :class=\"i===curpage?'current':''\" :key=\"key\">\r\n            <a class=\"link\" @click=\"pageChange(i)\">{{i}}</a>\r\n          </li>\r\n          <li v-if=\"endPage<totalpage\"><a class=\"link\" @click=\"next()\">&raquo; Next</a></li>\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n    <!-- / main body -->\r\n    <div class=\"clear\"></div>\r\n  </main>\r\n</div>\r\n</template>\r\n<script>\r\nexport default({\r\n  data(){\r\n    return {\r\n      food_list:[],\r\n      curpage:1,\r\n      totalpage:0,\r\n      startPage:0,\r\n      endPage:0\r\n    }\r\n  },\r\n  mounted(){\r\n    this.dataRecv()\r\n  },\r\n  methods:{\r\n    pageChange(page){\r\n      this.curpage=page\r\n      this.dataRecv()\r\n    },\r\n    prev(){\r\n      this.curpage=this.startPage-1\r\n      this.dataRecv()\r\n    },\r\n    next(){\r\n      this.curpage=this.endPage+1\r\n      this.dataRecv()\r\n    },\r\n    range(start,end){\r\n      let arr=[]\r\n      let len=end-start\r\n      for (let i=0;i<=len;i++)\r\n      {\r\n        arr[i]=start+i\r\n      }\r\n      return arr\r\n    },\r\n    async dataRecv(){\r\n      try{\r\n        const response=await fetch(\r\n          `http://127.0.0.1:8000/web/food/list_vue/?page=${this.curpage}`\r\n        )\r\n        const result=await response.json()\r\n        console.log(result)\r\n        this.food_list=result.fd\r\n        this.curpage=result.curpage\r\n        this.totalpage=result.totalpage\r\n        this.startPage=result.startPage\r\n        this.endPage=result.endPage\r\n      }catch(err){\r\n        console.log(err)    \r\n      }\r\n\r\n    }\r\n  }  \r\n})\r\n</script>\r\n<style scoped>\r\na.link:hover{\r\n  cursor: pointer;\r\n}\r\n</style>"],"mappings":"AAkCA,eAAe;EACbA,IAAIA,CAAA,EAAE;IACJ,OAAO;MACLC,SAAS,EAAC,EAAE;MACZC,OAAO,EAAC,CAAC;MACTC,SAAS,EAAC,CAAC;MACXC,SAAS,EAAC,CAAC;MACXC,OAAO,EAAC;IACV;EACF,CAAC;EACDC,OAAOA,CAAA,EAAE;IACP,IAAI,CAACC,QAAQ,CAAC;EAChB,CAAC;EACDC,OAAO,EAAC;IACNC,UAAUA,CAACC,IAAI,EAAC;MACd,IAAI,CAACR,OAAO,GAACQ,IAAG;MAChB,IAAI,CAACH,QAAQ,CAAC;IAChB,CAAC;IACDI,IAAIA,CAAA,EAAE;MACJ,IAAI,CAACT,OAAO,GAAC,IAAI,CAACE,SAAS,GAAC;MAC5B,IAAI,CAACG,QAAQ,CAAC;IAChB,CAAC;IACDK,IAAIA,CAAA,EAAE;MACJ,IAAI,CAACV,OAAO,GAAC,IAAI,CAACG,OAAO,GAAC;MAC1B,IAAI,CAACE,QAAQ,CAAC;IAChB,CAAC;IACDM,KAAKA,CAACC,KAAK,EAACC,GAAG,EAAC;MACd,IAAIC,GAAG,GAAC,EAAC;MACT,IAAIC,GAAG,GAACF,GAAG,GAACD,KAAI;MAChB,KAAK,IAAII,CAAC,GAAC,CAAC,EAACA,CAAC,IAAED,GAAG,EAACC,CAAC,EAAE,EACvB;QACEF,GAAG,CAACE,CAAC,CAAC,GAACJ,KAAK,GAACI,CAAA;MACf;MACA,OAAOF,GAAE;IACX,CAAC;IACD,MAAMT,QAAQA,CAAA,EAAE;MACd,IAAG;QACD,MAAMY,QAAQ,GAAC,MAAMC,KAAK,CACxB,iDAAiD,IAAI,CAAClB,OAAO,EAC/D;QACA,MAAMmB,MAAM,GAAC,MAAMF,QAAQ,CAACG,IAAI,CAAC;QACjCC,OAAO,CAACC,GAAG,CAACH,MAAM;QAClB,IAAI,CAACpB,SAAS,GAACoB,MAAM,CAACI,EAAC;QACvB,IAAI,CAACvB,OAAO,GAACmB,MAAM,CAACnB,OAAM;QAC1B,IAAI,CAACC,SAAS,GAACkB,MAAM,CAAClB,SAAQ;QAC9B,IAAI,CAACC,SAAS,GAACiB,MAAM,CAACjB,SAAQ;QAC9B,IAAI,CAACC,OAAO,GAACgB,MAAM,CAAChB,OAAM;MAC5B,CAAC,QAAMqB,GAAG,EAAC;QACTH,OAAO,CAACC,GAAG,CAACE,GAAG;MACjB;IAEF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}